---
title: Exportación de datos del visor de eventos virtuales descripción: Este tema explica cómo exportar los datos del visor de eventos virtuales para un evento virtual utilizando la API de Analytics.
parent: Virtual Event 
grandparent: Experiences
description: In this topic you will learn how to export virtual event viewer data.
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">Introducción</h2>
		<p>Puede ver los eventos de informes para sus eventos virtuales agregados por dispositivo y ubicación, además de la cuenta, el espectador y el análisis de video para una cuenta en particular. Esta información puede ayudarlo a organizar mejor sus próximos eventos virtuales para maximizar la participación de los espectadores.</p>
		<p>Estos datos se pueden descargar mediante la API de Analytics y se pueden devolver en formato JSON, CSV o XLXS. La siguiente sección proporciona una breve introducción a la API de Analytics. Si ya sabe cómo usarlo, puede pasar a la siguiente sección para obtener información sobre cómo obtener datos analíticos para eventos virtuales.</p>
  </section>
	<section class="bcls-section">
		<h2 id="Analytics_API">La API de Analytics</h2>
		<p>Al igual que otras API de <a href="https://apis.support.brightcove.com/">plataforma</a>, la API de Analytics es una API RESTful que le permite interactuar con la plataforma de Video Cloud mediante programación. Devuelve datos analíticos basados en varios parámetros de URL que incluye con la solicitud. De forma predeterminada, los datos se devuelven en formato JSON, pero puede solicitar que los datos CSV o XLXS se abran en la aplicación de hoja de cálculo.</p>
		<aside class="bcls-aside bcls-aside--information">Tenga en cuenta que este documento cubre solo lo que necesita saber para obtener datos analíticos para eventos virtuales. Consulte la documentación general de la API de <a href="https://apis.support.brightcove.com/analytics-api/index.html">Analytics</a> para otros usos.</aside>
		<h3>Cómo hacer solicitudes</h3>
		<p>Las solicitudes a las API RESTful se realizan a una URL, de la misma manera que un navegador realiza una solicitud a una URL para recuperar una página web. Sin embargo, no puede simplemente pegar la solicitud de API en un navegador, porque la solicitud debe estar autenticada (estamos llegando a eso) para demostrar que está autorizado para obtener los datos. Sin embargo, existen muchas herramientas que le ayudarán a hacerlo. Aquí está una lista corta:</p>
		<ul>
			<li><a href="https://apis.support.brightcove.com/general/use-insomnia-api-requests.html">Insomnio</a> (una popular aplicación multiplataforma)</li>
			<li><a href="https://apis.support.brightcove.com/general/use-postman-api-requests.html">Cartero</a> (otra aplicación multiplataforma popular)</li>
			<li><a href="https://apis.support.brightcove.com/general/concepts-api-tester.html">Probador de API en línea</a> creado por Brightcove Learning Services</li>
			<li><a href="https://apis.support.brightcove.com/getting-started/concepts-testing-tools-brightcove-apis.html#shell">api-tester.sh</a> (un script de shell basado en curl creado por Brightcove Learning Services)</li>
		</ul>
		<h3>Autenticar solicitudes</h3>
		<p>Para proteger sus datos, las solicitudes de la API de Analytics deben incluir un encabezado de autorización que contenga un token de acceso:</p>
		<pre><code class="language-http" translate="No">Authorization: bearer <span class="bcls-input">your access token</span></code></pre>
		<p>¿Cómo se obtiene el token de acceso? Puedes leer todo sobre esto en <a href="https://apis.support.brightcove.com/oauth/guides/getting-access-tokens.html">Obtener un token de acceso</a>, pero la respuesta corta es que después de prepararte un poco, cualquiera de las herramientas enumeradas anteriormente (y muchas otras) lo obtendrá por ti.</p>
		<p>La preparación consiste en obtener credenciales de <strong>cliente</strong>, que consisten en un <code translate="no">client_id</code> y un <code translate="no">client_secret</code>. Puede obtenerlos usando el <a href="https://studio.brightcove.com/products/videocloud/admin/oauthsettings">Página de administración de Studio</a> (debe ser un administrador en su cuenta o conseguir un administrador para hacerlo):</p>
		<ol class="bcls-tasklist-restart">
			<li>Hacer clic <span class="button-blue">Registrar nueva aplicación</span>.</li>
			<li>En el cuadro de diálogo que se abre, ingrese "Analytics" como nombre.</li>
			<li>Seleccione las cuentas para las que desea utilizar la API.</li>
			<li>
				Debajo <strong>API expuestas de Brightcove</strong> , Seleccione <strong>Leer</strong> debajo <strong>Analítica</strong> y <strong>Lectura de video</strong> debajo <strong>CMS</strong>:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/experiences/virtual-event/analytics-api-permissions.png" alt="API Permissions">
					<figcaption class="bcls-caption--image">Permisos de API</figcaption>
				</figure>
			</li>
			<li>Hacer clic <span class="button-blue">Ahorrar</span>.</li>
			<li>
				Un nuevo cuadro de diálogo mostrará el <strong>Identificación del cliente</strong> <strong>Secreto del cliente</strong>. Cópielos y guárdelos en un lugar seguro donde pueda encontrarlos nuevamente. <aside class="bcls-aside bcls-aside--warning">Una vez que cierre este cuadro de diálogo, no habrá forma de recuperar este secreto de cliente nuevamente. Si lo pierdes, tendrás que crear uno nuevo.</aside>
			</li>
		</ol>
		<h3>El token de acceso</h3>
		<p>El token de acceso se recupera de otra API de Brightcove utilizando las credenciales del cliente. Puede hacerlo usted mismo, pero nuevamente, cualquiera de las herramientas enumeradas en la sección anterior tomará sus credenciales de cliente y obtendrá el token de acceso por usted, y lo colocará en el encabezado de solicitud enviado con su solicitud de API de Analytics.</p>
	</section>
  <section class="bcls-section">
    <h2 id="API_request">La solicitud de la API de Analytics</h2>
    <p>Este es el formulario de la solicitud de la API de Analytics:</p>
    <pre><code class="language-http" translate="No">http://analytics.api.brightcove.com/v1/data?accounts=<span class="bcls-input">{account1_id,account2_id}</span>
&from=<span class="bcls-highlight">{yyyy-mm-dd}</span>
&to=<span class="bcls-highlight">{yyyy-mm-dd}</span>
&dimensions=viewer,video,country,city,region,device_type,protocol
&fields=video,video.name,viewer,country,region,city,device_type,time,video_view,video_percent_viewed,video_seconds_viewed
&sort=-video_view&limit=20&format=csv</code></pre>
		<aside class="bcls-aside bcls-aside--information">Tenga en cuenta que no debe haber saltos de línea en la URL de la solicitud. los saltos de línea se agregan aquí para facilitar la lectura.</aside>
		<h3>Parámetros requeridos</h3>
		<table class="bcls-table">
			<caption class="bcls-caption--table">Parámetros requeridos</caption>
			<thead class="bcls-table__head">
					<tr>
							<th>Parámetro</th>
							<th>Valores requeridos</th>
							<th>Valores opcionales</th>
					</tr>
			</thead>
			<tbody class="bcls-table__body">
					<tr>
							<td><code translate="no">cuentas</code></td>
							<td>uno o más ID de cuentas</td>
							<td></td>
					</tr>
					<tr>
							<td><code translate="no">dimensiones</code></td>
							<td>
								<ul>
									<li><code translate="no">espectador</code></li>
									<!-- <li><code translate="no">application</code></li> -->
								</ul>
							</td>
							<td>
								<ul>
									<li><code translate="no">cuenta</code></li>
									<li><code translate="no">video</code></li>
									<li><code translate="no">país</code></li>
									<li><code translate="no">región</code></li>
									<li><code translate="no">ciudad</code></li>
									<li><code translate="no">tipo de dispositivo</code></li>
									<li><code translate="no">protocolo</code></li>
								</ul>
							</td>
					</tr>
			</tbody>
	</table>
	<p>Ver <a href="https://apis.support.brightcove.com/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html#params">Parámetros</a> para algunos parámetros opcionales adicionales que se pueden usar para establecer el rango de fechas, ordenar los resultados, establecer el formato de respuesta, etc.</p>

  </section>
	<section class="bcls-section">
		<h2 id="where_filters">Donde filtros</h2>
		<p>Puede filtrar los resultados utilizando el <code translate="no">dónde</code> parámetro. Ver <a href="https://apis.support.brightcove.com/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html#filterValues">Donde filtros</a> para detalles</p>
	</section>
	<section class="bcls-section">
		<h2 id="fields">Campos</h2>
		<h3>Recopilado directamente del jugador</h3>
		<ul>
			<li><code translate="no">espectador</code>: Visor de eventos (ID de SSO o ID de dispositivo o cadena única basada en el agente de usuario y la IP), tomado del <code translate="no">usuario</code> campo</li>
			<!-- <li><code translate="no">application</code>: virtual event experience id, if null default value = <code translate="no">account_id</code></li> -->
			<li><code translate="no">time</code>: marca de hora del último evento recibido</li>
			<li><code translate="no">video</code></li>
			<li><code translate="no">país</code></li>
			<li><code translate="no">región</code></li>
			<li><code translate="no">ciudad</code></li>
			<li><code translate="no">tipo de dispositivo</code></li>
		</ul>
		<h3>Métricas agregadas</h3>
		<ul>
			<li><code translate="no">video_view</code> : el número total de veces <code translate="no">video_view</code> fue enviado por el jugador (tenga en cuenta que <code translate="no">video_view</code> es <strong>no</strong> enviado cuando el espectador hace una pausa y reinicia un video, o mira el video varias veces sin actualizar la página)</li>
		</ul>
		<h3>Campos calculados</h3>
		<ul>
			<li>
				<code translate="no">video_seconds_viewed</code>:
				<ul>
					<li>Valor de rango más alto recibido por Collector API independientemente del pedido</li>
					<li>Tenga en cuenta que los eventos que describen rangos de más de 20 segundos son descartados por el sistema de Analytics, lo que podría resultar en un valor inexacto si el reproductor no fue instrumentado correctamente para enviar rangos de 20 segundos o menos; consulte <a href="https://apis.support.brightcove.com/data-collection/overview-data-collection-api-v2.html">Descripción general: API de recopilación de datos</a></li>
				</ul>
			</li>
			<li><code translate="no">video_percent _vistado</code>: video_seconds_viewed/video_duration *100 (este valor faltará o no será preciso si la duración del vídeo no se ha enviado al recopilador de datos)</li>
			<li><code translate="no">video_engagement_xx</code>: el número total de visualizaciones en xx video_percent_views (xx = 1, 25, 50, 75 o 100)</li>
		</ul>
		<details>
			<summary>Respuesta de API de muestra (JSON)</summary>
<pre><code class="language-json" translate="no">{ 4 "item_count": 1, 5 "items": [ 6 { 7 "viewer": "test@brightcove.com", 8 "country": "GB", 9 "video_seconds_viewed": 253, 10 "city": "London", 11 "video_percent_viewed": 527.08, 12 "device_type": "other", 13 "video": "70701475639202", 14 "video_view": 46, 15 "region": "GB-ENG" 16 } 17], 18 "resumen": { 19 "video_seconds_viewed": 253, 20 "video_percent_viewed": 527.08, 21 "video_view": 46 22 } 23}</code></pre>
		</details>
	</section>
</article>